#!/bin/bash

if [ -z "$XDG_SESSION_TYPE" ]; then
	if hash colordiff 2>/dev/null; then 
		colordiff $2 $5
		exit $?
	else
		echo "colordiff not installed, falling back to plain diff..."
		diff $2 $5
		exit $?
	fi
else
	if hash meld 2>/dev/null; then
		meld $2 $5 &> /dev/null
		exit
	else
		echo "meld not installed, falling back to plain diff..."
		diff $2 $5
		exit $?
	fi
fi
